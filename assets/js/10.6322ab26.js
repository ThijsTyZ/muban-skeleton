(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{436:function(t,s,e){"use strict";e.r(s);var n=e(52),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#components"}},[t._v("#")]),t._v(" Components")]),t._v(" "),e("p",[t._v("What is a site without components? In Muban - like most modern frontend frameworks - everything is a component.\nFrom the biggest page to the smallest atom, they all are - and most are composed of - components.")]),t._v(" "),e("h2",{attrs:{id:"component-files-and-folders"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#component-files-and-folders"}},[t._v("#")]),t._v(" Component files and folders")]),t._v(" "),e("p",[t._v("Within the Muban skeleton we have set on a standard way of writing, organizing and using components, based on lessons\nlearned while working with it. If you wish, you're free to divert from this in your own project. Even then it's still\nuseful why we've chosen this way.")]),t._v(" "),e("h3",{attrs:{id:"folders"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#folders"}},[t._v("#")]),t._v(" Folders")]),t._v(" "),e("p",[t._v("All components reside in the "),e("code",[t._v("/src/components/")]),t._v(" folder. Not for any technical reason, but purely for organisation.\nWithin this folder we might follow the atomic design principle by dividing them up between atoms, molecules,\norganisms and templates. Feel free to organize them any way you feel, since this really depends on how your project is\nset up.")]),t._v(" "),e("p",[t._v("Each component has its own folder to contain all the source files related to this component. At its core these are\nthe JS component, the template and the styles. But other files like storybook stories, mock data or included assets\nmight also be contained here.")]),t._v(" "),e("p",[t._v("A component folder has the same name as its component, but written in "),e("code",[t._v("snake-case")]),t._v(" "),e("strong",[t._v("[TBD]")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("/src\n  /components\n    /atoms\n      /my-atom-component\n        ...files\n      /my-other-atom\n        ...files\n\n    /my-component\n      ...files\n    /my-other-component\n      ...files\n")])])]),e("h3",{attrs:{id:"source-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#source-files"}},[t._v("#")]),t._v(" Source files")]),t._v(" "),e("p",[t._v("A component can have one or multiple source files, where each type is optional[^1], depending on the situation.\nImportant is to keep in mind that the JS Component and JS Template files are split up because template files are in\nmost cases only used during development and for preview builds.")]),t._v(" "),e("p",[t._v("[^1]: This depends on how we are going to include SCSS files by default.")]),t._v(" "),e("h4",{attrs:{id:"js-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js-component"}},[t._v("#")]),t._v(" JS Component")]),t._v(" "),e("p",[t._v("This file is the actual component that gets initialized to make an HTML element interactive.")]),t._v(" "),e("p",[t._v("It uses "),e("code",[t._v("PascalCase")]),t._v(" for both the filename and the export const.")]),t._v(" "),e("p",[t._v("We've chosen not to use default exports to be more explicit when importing and using them - keeping the names in sync.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyComponent.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyComponent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-component'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("An additional export that can exist in a component file is a "),e("code",[t._v("lazy")]),t._v(" export, this supports importing these components\nlazily to allow code splitting.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyComponent.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyComponent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lazy "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("supportLazy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("In most cases "),e("strong",[t._v("[TBD]")]),t._v(", this file also import the styles related to this component. Webpack will only include scss\nfiles that are imported through components that are actually used.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyComponent.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineComponent "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@muban/muban'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./my-component.scss'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyComponent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Including child components can be done in 3 ways:")]),t._v(" "),e("ol",[e("li",[t._v("Through the "),e("code",[t._v("components")]),t._v(" option - these are initialized automatically, but you can't interact with them.\na. Directly referencing them - they are included in the main bundle\nb. using the "),e("code",[t._v("lazy")]),t._v(" function - these components are code-splitted, and only loaded if a matching "),e("code",[t._v("data-component")]),t._v("\nelement exists in the HTML.")]),t._v(" "),e("li",[t._v("Using the "),e("code",[t._v("refComponent")]),t._v(" or "),e("code",[t._v("refComponents")]),t._v(" selector, allowing you to read props or apply bindings to these\ncomponents.")])]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyComponent.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyComponent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-component'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  components"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.a")]),t._v("\n    MyChildComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.b")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-child-component'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* webpackExports: "lazy" */')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../MyChildComponent/MyChildComponent'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  refs"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n    myChildComponent"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("refComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyChildComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" refs "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myChildComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyChildComponent.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyChildComponent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-child-component'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Optional")]),t._v(" "),e("p",[t._v("JS components are not required - sometimes you have partials that only have templates (and styles), but don't require\nany interactions or data bindings.")])]),t._v(" "),e("h4",{attrs:{id:"template"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#template"}},[t._v("#")]),t._v(" Template")]),t._v(" "),e("p",[t._v("Because we love TypeScript, our templates are just typed functions that return an HTML string. Nesting templates is\nas easy as calling those functions and passing the right parameters.")]),t._v(" "),e("p",[t._v("In storybook, we use the story Args to render individual component templates.")]),t._v(" "),e("p",[t._v("For our preview pages, we use page data functions to pass to our application template, which passes down the data to\nits child components, where they use it, and pass down the rest, until we reached the last atom templates.")]),t._v(" "),e("p",[t._v("As said above, templates are only used during development, or when creating a previous build - completely\ndisconnected from the production HTML that is generated by something else. That's why templates live in their own\nseparate files.")]),t._v(" "),e("p",[t._v("It uses "),e("code",[t._v("PascalCase")]),t._v(", similar to the JS Component, and append "),e("code",[t._v(".template")]),t._v(" after it. It exports a typed template function\nand the Props "),e("code",[t._v("type")]),t._v(" to use in parent components and story files.")]),t._v(" "),e("p",[t._v("To clearly indicate that the template is separate from the JS Component, and the props belong to the template function,\nwe both append "),e("code",[t._v("Template")]),t._v(" to their names.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("type")]),t._v(" is "),e("code",[t._v("PascalCase")]),t._v(" to follow the TypeScript conventions.")]),t._v(" "),e("p",[t._v("The template function is "),e("code",[t._v("camelCase")]),t._v(" to follow the JavaScript conventions.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyComponent.template.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" html "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@muban/muban"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComponentTemplateProps")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyChildComponentProps "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  prop1"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  prop2"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("myComponendTemplate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" prop1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" childProp "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MyComponentTemplateProps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" html"),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    <div data-component=")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("MyComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("displayName"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(" data-ref=")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("ref"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(" data-prop=")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("prop2"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(">\n      \x3c!-- your component html --\x3e\n      <h1>")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("prop1"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("</h1>\n      \n      \x3c!-- include child template --\x3e\n      ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("myChildComponentTemplate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" childProp "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child-ref'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    </div>\n  ")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Some other things to note;")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("So you don't have to repeat any typings, or worry about them getting out of sync, try to reference Prop types of\nchild components a much as possible. Use "),e("code",[t._v("Pick")]),t._v(" or "),e("code",[t._v("Omit")]),t._v(" if you only need some of those specified props.")])]),t._v(" "),e("li",[e("p",[t._v("Always have a container element (doesn't have to be a "),e("code",[t._v("div")]),t._v(") that includes the "),e("code",[t._v("data-component")]),t._v(" attribute, with the\nsame value as the "),e("code",[t._v("name")]),t._v(" property you give your Component. To keep these in sync, you reference the "),e("code",[t._v("displayName")]),t._v(" on\nthe exported Component.")])]),t._v(" "),e("li",[e("p",[t._v("Except for the root component, it's good practice receiving a "),e("code",[t._v("ref")]),t._v(" parameter from the parent template and include\nit as a "),e("code",[t._v("data-ref")]),t._v(" attribute in the same tag as the "),e("code",[t._v("data-component")]),t._v(" attribute. This will make sure the parent can\nchoose to specifically target this child component to apply bindings to.")])]),t._v(" "),e("li",[e("p",[t._v("Passing a "),e("code",[t._v("ref")]),t._v(" as second parameter to child templates is completely optional.")])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Optional")]),t._v(" "),e("p",[t._v("The use of templates in Muban is optional. If you already have existing HTML, either statically or as part of\nexisting website or CMS, it might not be sensible to duplicate everything locally as well. In those cases, you would\nonly write JS Components and styles, and won't use storybook or the dev server at all.")])]),t._v(" "),e("h4",{attrs:{id:"stylesheet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stylesheet"}},[t._v("#")]),t._v(" Stylesheet")]),t._v(" "),e("p",[t._v('This file contains the styles that style the html for this component. Additionally, it can "override" styles from\nchild components it knows it will include.')]),t._v(" "),e("p",[t._v("It uses "),e("code",[t._v("snake-case")]),t._v(" folder the filename to align with most css conventions. The component is scoped with its\n"),e("code",[t._v("data-component")]),t._v(" attribute, which is required in the HTML for each component.")]),t._v(" "),e("div",{staticClass:"language-scss extra-class"},[e("pre",{pre:!0,attrs:{class:"language-scss"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// my-component.scss")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v('[data-component="my-component"] ')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// styles")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v('[data-component="my-other-component"] ')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// override styles of all child components of that type")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v('[dat-ref="specific-component-instance"] ')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// override styles of a single targeted child component")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("Because the Muban library is impartial about how you implement your styling, it's up to each project to decide how to\nwrite stylesheets, and how to bundle them. In this skeleton, we've chosen SCSS.")]),t._v(" "),e("ul",[e("li",[t._v('Using "css-in-js" doesn\'t make sense if your HTML is generated on the server.')]),t._v(" "),e("li",[t._v("Going full post-css might still miss out on some useful features that SCSS offers.")])]),t._v(" "),e("p",[t._v("However, if your team decides to use something else for styling, that's perfectly possible.")])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("There are 3 ways to include your scss files to make them end up in your output bundle, each having their own downsides:")]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[t._v("Import your styles in the Template files")]),t._v(" - since styles are there to enhance your HTML, linking them from the\ntemplate files feels like the sensible option. It does require a separate build step to extract all those styles\nfrom the templates.")]),t._v(" "),e("p",[t._v("In some cases however - either at the start of the project, or somewhere near the end - you might choose to not\nuse these local templates anymore, but instead use the server\nrendered pages. Keeping the local and server templates in sync might take too much effort (with the main reason to\nkeep storybook available). In that scenario, there aren't any template files to include your scss files anymore,\nwhich means you need to revert to option 3.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Import your styles in the Component files")]),t._v(' - However, some "partials" only include HTML and Styles, and don\'t\nrequire any JS logic to make them interactive. In that scenario, not each component has a file to include your scss\nfiles. This forces us to create files with empty components, or we have to revert to option 3.')])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Glob all scss files in the project")]),t._v(" - Setup wise this is the simplest option, but with the downside that if\nthere are any unused components, they will still be included in the bundle. You could manually exclude them from\nthe globbing pattern, but that would never be in sync with the imports to the components, potentially risking missing\nout on styles for your pages.")])])]),t._v(" "),e("p",[e("strong",[t._v("Currently, option 2 is implemented in this skeleton.")])])]),t._v(" "),e("h3",{attrs:{id:"supporting-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#supporting-files"}},[t._v("#")]),t._v(" Supporting files")]),t._v(" "),e("h4",{attrs:{id:"stories"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stories"}},[t._v("#")]),t._v(" Stories")]),t._v(" "),e("p",[t._v("Muban has its own storybook framework, which is included by default in this skeleton.")]),t._v(" "),e("p",[t._v("The story file uses "),e("code",[t._v("PascalCase")]),t._v(", similar to the JS Component, and appends "),e("code",[t._v(".stories")]),t._v(" after it.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyComponent.stories.ts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Story "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@muban/storybook/dist/client/preview/types-6-0'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" MyComponentTemplateProps "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./MyComponent.template'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" MyComponent "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./MyComponent'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" myComponentTemplate "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./MyComponent.template'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyComponent'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  argTypes"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Configure your props")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Default"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Story"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ButtonTemplateProps"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  component"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MyComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" myComponentTemplate\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nDefault"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("args "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  prop1"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  prop2"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  childProp"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'awesome'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);